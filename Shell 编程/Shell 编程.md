Shell 编程是 Linux/UNIX 环境下必备的技能，核心是通过脚本自动化执行命令、处理文本、管理系统。本文基于 **Bash（Bourne-Again Shell）**（Linux 默认 Shell）编写

# 一、基础入门：Shell 脚本核心概念
## 1.1 编程介绍
### 1.1.1 编程语言初始
#### 1.1.1.1 基础知识
##### 1.1.1.1.1 核心知识点

1. **编程的本质**：
    
    编程是将人类解决问题的逻辑，转化为计算机能理解并执行的**指令集合**。计算机只能识别二进制（0/1），编程语言作为 “翻译器”，让人类用接近自然语言的方式编写指令，再通过解释器 / 编译器转化为机器码。
2. **Shell 编程的定位**：
    
    Shell 编程是面向 **Linux/UNIX 系统管理、自动化操作** 的脚本编程，核心价值是 “串联系统命令”—— 无需编写复杂逻辑，即可快速实现文件处理、进程管理、批量任务自动化。
3. **计算机执行程序的基本逻辑**：
    - 输入：接收用户 / 文件 / 其他程序的指令 / 数据；
    - 处理：CPU 执行指令（计算、判断、循环等）；
    - 输出：返回结果（屏幕打印、文件写入、状态码等）；
        
        Shell 脚本完全遵循此逻辑，比如 `ls -l` 是 “输入指令”，CPU 执行文件遍历逻辑，最终在终端输出文件列表。
4. **Shell 与操作系统的关系**：
    
    Shell 是用户与操作系统内核（Kernel）之间的 “中间层”：用户编写 Shell 脚本 → Shell 解释器（如 Bash）解析指令 → 调用内核接口执行（如读写文件、创建进程）→ 返回结果给用户。

##### 1.1.1.1.2 配套示例（理解执行逻辑）

```bash
#!/bin/bash
# 演示 Shell 脚本的“输入-处理-输出”逻辑
# 输入：定义变量接收用户输入
read -p "请输入一个数字：" num

# 处理：判断数字奇偶性
if (( num % 2 == 0 )); then
    result="偶数"
else
    result="奇数"
fi

# 输出：打印处理结果
echo "你输入的数字 $num 是 $result"
```
#### 1.1.1.2 编程语言
##### 1.1.1.2.1 核心知识点

1. **编程语言的本质**：
    
    是一套 “语法规则 + 语义定义” 的集合，用于描述 “计算机该做什么、怎么做”。不同编程语言的核心差异在于**设计目标**（如 C 追求效率、Python 追求简洁、Shell 追求系统命令联动）。
2. **Shell 语言的核心特点**：

|特点|说明|
|---|---|
|解释型|无需编译，由 Bash 逐行解析执行（对比 C 编译型语言）|
|弱类型|无需声明变量类型（如 `a=10` 是数值，`a="abc"` 是字符串）|
|命令导向|核心是调用 Linux 系统命令（ls、grep、sed 等），而非原生语法|
|轻量高效|适合短脚本、自动化任务，不适合复杂业务逻辑（如大型应用开发）|

    
3. **Shell 与其他主流语言的对比**

| 语言     | 类型         | 适用场景        | 对比 Shell                    |
| ------ | ---------- | ----------- | --------------------------- |
| C      | 编译型 / 低级语言 | 操作系统、底层组件   | 效率极高，但开发复杂；Shell 依赖 C 编写的内核 |
| Python | 解释型 / 高级语言 | 数据分析、Web 开发 | 语法更优雅，生态更全；Shell 处理系统命令更直接  |
| Java   | 编译 + 解释型   | 大型应用、企业级开发  | 跨平台性强；Shell 无跨平台优势（仅适配 U    |
    
4. **Shell 的版本与选型**：
    - 基础 Shell（sh）：UNIX 原生 Shell，语法简单但功能少；
    - Bash（Bourne-Again Shell）：Linux 默认 Shell，兼容 sh，扩展了变量、循环、函数等功能（本文核心）；
    - Zsh/Fish：增强型 Shell，交互更友好（如自动补全），但脚本兼容性不如 Bash。

##### 1.1.1.2.2 配套示例（Shell 与 Python 实现相同逻辑）

```bash
# Shell 版本：计算1-10的和
#!/bin/bash
sum=0
for ((i=1; i<=10; i++)); do
    sum=$((sum + i))
done
echo "Shell计算1-10的和：$sum"
```

```python
# Python 版本：计算1-10的和（对比参考）
sum = 0
for i in range(1, 11):
    sum += i
print(f"Python计算1-10的和：{sum}")
```

#### 1.1.1.3 编程语言类型
##### 1.1.1.3.1 核心知识点

编程语言可按 **执行方式、抽象层次、用途** 分为不同类型，Shell 属于 “解释型、高级脚本语言、系统级语言”，以下是核心分类及 Shell 的定位：

###### 1.1.1.3.1.1 按执行方式分类（最核心）

|类型|定义|执行流程|代表语言|Shell 归属|
|---|---|---|---|---|
|编译型|编写完成后需通过编译器转化为机器码（二进制文件），运行时直接执行机器码|源码 → 编译 → 可执行文件 → 运行|C、C++、Go|❌ 不属于|
|解释型|无需编译，由解释器逐行解析源码并执行|源码 → 解释器逐行执行|Shell、Python、JavaScript|✅ 典型解释型|

**关键差异**：

- 编译型：一次编译，多次运行（效率高，如 `gcc test.c -o test` 生成可执行文件 `test`）；
- 解释型：每次运行都需解释器（灵活，修改源码后直接运行，无需重新编译）。

###### 1.1.1.3.1.2 按抽象层次分类

|类型|定义|特点|代表语言|Shell 归属|
|---|---|---|---|---|
|低级语言|贴近机器码，直接操作硬件|效率极高，语法晦涩|机器语言、汇编语言|❌ 不属于|
|高级语言|贴近人类自然语言，屏蔽硬件细节|易读易写，开发效率高|Shell、Python、Java|✅ 高级语言|

###### 1.1.1.3.1.3 按用途分类

|类型|定义|代表语言|Shell 归属|
|---|---|---|---|
|系统级语言|面向操作系统管理、硬件交互|C、Shell|✅ 核心用途是系统管理|
|应用级语言|面向业务开发（Web、APP、数据分析）|Python、Java、JavaScript|❌ 不适合复杂应用开发|
|脚本语言|面向自动化任务、批量处理|Shell、Perl、Python|✅ 典型脚本语言|

##### 1.1.1.3.2 配套示例（编译型 vs 解释型 对比演示）

###### 步骤 1：编译型语言（C）示例

```c
// test.c（C语言源码）
#include <stdio.h>
int main() {
    int sum = 0;
    for (int i=1; i<=10; i++) {
        sum += i;
    }
    printf("C语言计算1-10的和：%d\n", sum);
    return 0;
}
```


```bash
# 1. 编译：将C源码转化为可执行文件
gcc test.c -o test

# 2. 运行可执行文件（无需编译器，直接执行）
./test

# 3. 再次运行（无需重新编译）
./test
```

###### 步骤 2：解释型语言（Shell）示例


```bash
# test.sh（Shell源码）
#!/bin/bash
sum=0
for ((i=1; i<=10; i++)); do
    sum=$((sum + i))
done
echo "Shell计算1-10的和：$sum"
```


```bash
# 1. 运行（无需编译，Bash解释器逐行执行）
bash test.sh

# 2. 修改源码（比如计算1-20的和），直接重新运行
sed -i 's/10/20/' test.sh
bash test.sh
```

###### 步骤 3：核心差异总结


```bash
#!/bin/bash
# 对比编译型和解释型的执行效率
echo "=== 编译型（C）执行1000次 ==="
time for ((i=1; i<=1000; i++)); do ./test; done > /dev/null

echo -e "\n=== 解释型（Shell）执行1000次 ==="
time for ((i=1; i<=1000; i++)); do bash test.sh; done > /dev/null

# 输出结论
echo -e "\n结论：编译型语言执行效率更高，但解释型语言（Shell）开发/修改更灵活，适合快速自动化场景"
```

### 1.1.2 编程语言逻辑

#### 1.1.2.1 语言分类

语言分类
```powershell
低级编程语言：
机器：
	二进制的0和1的序列，称为机器指令。
	一般人看不懂
汇编：
	用一些助记符号替代机器指令，称为汇编语言。
	一般人看不懂，但是能够有感觉

高级编程语言：
	编译：
		借助于专属编译器将一些高级语言编译成机器代码文件，然后再交给程序去执行。
		如：C，C++ 等
	解释：
		将高级语言的代码逐行加载到解释器环境，逐行解释为机器代码，然后再交给程序去执行。
		如：shell，python，php，JavaScript等
```
#### 1.1.2.2 编程逻辑
```ini
编程语言的目的是通过风格化的编程思路将代码写出来后，实现项目功能的。为了实现功能，我们通过在代码层面通过一些代码逻辑来实现：

顺序执行 - 程序按从上到下顺序执行

选择执行 - 程序执行过程中，根据条件选择不同的顺序执行

循环执行 - 程序执行过程中，根据条件重复执行代码
```

![](assets/Shell%20编程/file-20251204142415093.png)

## 1.2 shell基础

### 1.2.1 shell简介

#### 1.2.1.1 运维是干什么的

简介