
---

# # 📘 一、折叠式复习题卡（带答案）

以下采用 Obsidian 可折叠标题形式。

---

## ## ▶ 复习题：脚本相关变量（2.3.1）

### ### ❓ Q1：`$0` 表示什么？

`$0` 表示脚本自身的文件名（可能包含路径）。

---

### ### ❓ Q2：`$@` 与 `$*` 的主要区别是什么？

- `"$@"`：将参数逐个独立展开
    
- `"$*"`：将所有参数拼接为一个字符串
    
- 差异出现在双引号中
    

---

### ### ❓ Q3：上一条命令的退出状态码用哪个变量？

`$?`

---

### ### ❓ Q4：如何获取后台任务的 PID？

`$!`

---

## ## ▶ 复习题：字符串扩展（2.3.2）

### ### ❓ Q5：如何获取字符串长度？

`${#var}`

---

### ### ❓ Q6：`${file%.*}` 的作用？

从后删除最短匹配 `.*`，也就是去掉文件后缀。

---

### ### ❓ Q7：`${name//_/ }` 的作用？

替换所有 `_` 为空格。

---

## ## ▶ 复习题：默认值扩展（2.3.3）

### ### ❓ Q8：`${var:-default}` 和 `${var:=default}` 差别？

- `${var:-default}` 不改变变量
    
- `${var:=default}` 会将 default 赋值给变量
    

---

### ### ❓ Q9：`${var:?message}` 的作用？

当 var 未设置或为空时，打印 message 并退出脚本。

---

# # 📘 二、每个内置变量的流程图学习卡片（ASCII）

---

## ## ▶ `$@` 展开流程图

```
输入参数: "aa" "bb cc" "dd"

          "$@"
            ↓
+------------+  +-------------+  +------------+
|   "aa"     |  |  "bb cc"    |  |   "dd"     |
+------------+  +-------------+  +------------+
     ↑               ↑                ↑
  参数1            参数2             参数3
```

---

## ## ▶ `$*` 展开流程图

```
输入参数: "aa" "bb cc" "dd"

          "$*"
            ↓
IFS 默认空格连接 → 生成一个整体字符串

+-----------------------------------------+
|            "aa bb cc dd"               |
+-----------------------------------------+
```

---

## ## ▶ `${var:-default}` 流程图

```
var 未设置 or 空?
    ├── 是 → 使用 default（不赋值）
    └── 否 → 使用 var 原值
```

---

## ## ▶ `${var:=default}` 流程图

```
var 未设置 or 空?
    ├── 是 → var = default（赋值）
    └── 否 → 使用 var 原值
```

---

## ## ▶ `${var:+alt}` 流程图

```
var 已设置?
    ├── 是 → 使用 alt
    └── 否 → 输出空字符串
```

---

## ## ▶ `${var:?message}` 流程图

```
var 未设置 or 空?
    ├── 是 → 打印 message 并退出脚本
    └── 否 → 使用 var 原值
```

---

# # 📘 三、Blue Topaz Theme 风格的高级学习卡片（card / collapse）

适用于安装了 Blue Topaz Theme 和 Style Settings 的 Obsidian 用户。

---

## ## ▶ Blue Topaz 卡片版 - `$@`

````markdown
```card
title: "$@" 内置变量
body: |
  - 表示所有参数（逐个独立）
  - 在脚本中最安全、最常用
  - 适用于参数传递给其他命令

示例：
for i in "$@"; do
  echo "$i"
done
```
````

---

## ## ▶ Blue Topaz 折叠版 - 参数默认值扩展

````markdown
```collapse
title: 默认值扩展总结
${var:-default} → 未设置使用 default（不赋值）
${var:=default} → 未设置赋值为 default
${var:+alt}     → 已设置使用 alt
${var:?message} → 未设置报错退出
```
````

---

## ## ▶ Blue Topaz 卡片 - 字符串操作

````markdown
```card
title: 字符串操作（Bash）
body: |
  ${#var}            → 长度
  ${var:pos:len}     → 截取
  ${var#pattern}     → 删除前最短匹配
  ${var##pattern}    → 删除前最长匹配
  ${var%pattern}     → 删除后最短匹配
  ${var%%pattern}    → 删除后最长匹配
  ${var//a/b}        → 全部替换
```
````

---

# # 📘 四、PDF 学习手册模板（可直接导出）

以下结构适合：

- Obsidian Export PDF
    
- Typora 导出
    
- Pandoc 转 PDF
    

---

# # 《Shell 内置变量学习手册》

## ## 目录

1. 脚本相关变量
    
2. 字符串扩展
    
3. 默认值扩展
    
4. 参数展开对比
    
5. 实战示例
    
6. 流程图附录
    

---

## ## 1. 脚本相关内置变量

（表格略，与前文内容一致，可复制）

---

## ## 2. 字符串扩展

解释 + 示例代码 + ASCII 图解

---

## ## 3. 默认值扩展

完整说明 + 使用场景 + 示例

---

## ## 4. `$@` 与 `$*` 对比

包含：

- 行为说明
    
- 表格
    
- 图示流程图
    
- 实战示例脚本
    

---

## ## 5. 实战示例

如日志处理、参数检查、自动化脚本等案例。

---

## ## 6. 附录：流程图集

包含所有 ASCII 图示学习卡片。

---

# ✅ 全套内容已生成

如果你愿意，我可以继续补充：

### ⭐ 支持的扩展内容（任选）

1. **自动生成的 Shell 练习题 50 题（基础 → 高级）**
    
2. **所有内置变量的脑图（ASCII / Mermaid）**
    
3. **一份可运行的教学脚本（含注释）**
    
4. **完整版 Shell 参数扩展速查表（Cheat Sheet）**
    
5. **制作 Obsidian Template 模板库**
    

你想继续扩展哪些？